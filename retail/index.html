<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KiotViet Retail - Thư viện E-Learning</title>
    <meta name="description" content="Tổng hợp kiến thức và hướng dẫn sử dụng phần mềm KiotViet ngành hàng Bán lẻ.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff;
            font-size: 14px; 
            -webkit-tap-highlight-color: transparent;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f0f9ff; }
        ::-webkit-scrollbar-thumb { background: #93c5fd; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3b82f6; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none;  scrollbar-width: none; }

        /* Template Background */
        .soft-glow-background { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; 
            background: linear-gradient(135deg, #ffffff 0%, #e0f2fe 50%, #dcfce7 100%);
        }

        /* --- NAVBAR STYLES --- */
        header.scrolled .navbar-inner {
            background-color: rgb(255 255 255 / 0.98);
            backdrop-filter: blur(0px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }
        .nav-pill {
            display: flex; align-items: center; gap: 8px; padding: 8px 16px;
            border-radius: 9999px; font-size: 0.875rem; font-weight: 600;
            border: 1px solid transparent; transition: all 0.2s; white-space: nowrap;
            color: #64748b; border-color: #e2e8f0; background-color: transparent;
            flex-shrink: 0; text-decoration: none;
        }
        .nav-pill:hover { background-color: #f8fafc; }
        
        .nav-pill.retail.active { background-color: #2563eb; color: white; border-color: transparent; box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2); }
        
        .nav-pill.fnb:hover { color: #ea580c; border-color: #ea580c; background-color: #fff7ed; }
        .nav-pill.salon:hover { color: #db2777; border-color: #db2777; background-color: #fdf2f8; }
        .nav-pill.hotel:hover { color: #16a34a; border-color: #16a34a; background-color: #f0fdf4; }
        .nav-pill.thue:hover { color: #0d9488; border-color: #0d9488; background-color: #f0fdfa; }

        .mobile-nav-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 16px;
            border-radius: 8px; font-size: 1rem; font-weight: 600;
            color: #475569; transition: all 0.2s; text-decoration: none;
        }
        .mobile-nav-item:hover { background-color: #eff6ff; color: #2563eb; }

        /* --- PAGE SPECIFIC STYLES --- */
        .text-gradient-primary {
            background: linear-gradient(to right, #1d4ed8, #2563eb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .tech-gradient-icon-blue {
            background: linear-gradient(135deg, #1d4ed8 0%, #3b82f6 50%, #60a5fa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 4px 6px rgba(37, 99, 235, 0.3));
        }

        .search-container-focus:focus-within {
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.2);
        }

        .section-wrapper {
            padding-bottom: 3.5rem;
            margin-bottom: 3.5rem;
            border-bottom: 1px dashed #cbd5e1;
        }
        .section-wrapper:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .soft-card {
            transition: all 0.3s ease-in-out;
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
        }
        .soft-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1);
        }

        .thumbnail-container {
            position: relative; padding-top: 56.25%;
            overflow: hidden; background-color: #000;
            border-top-left-radius: 1rem; border-top-right-radius: 1rem;
        }
        .thumbnail-img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.9; transition: opacity 0.3s;
        }
        .play-overlay {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 48px; height: 48px; background: rgba(0,0,0,0.6); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: white;
            transition: all 0.3s; backdrop-filter: blur(2px);
        }
        .soft-card.video-card:hover .play-overlay { background: #ef4444; transform: translate(-50%, -50%) scale(1.1); }
        .soft-card.video-card:hover .thumbnail-img { opacity: 1; }

        /* Modal Styles */
        #learning-modal {
            display: none; position: fixed; z-index: 9999; left: 0; top: 0;
            width: 100%; height: 100%; overflow: hidden;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            transition: opacity 0.3s ease;
            opacity: 0;
        }
        #learning-modal.open { display: flex; align-items: center; justify-content: center; opacity: 1; }
        
        .modal-window {
            width: 98%; height: 95vh;
            max-width: 100%;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            display: flex; flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
            transform: scale(0.95); transition: transform 0.3s ease;
        }
        #learning-modal.open .modal-window { transform: scale(1); }

        .modal-header {
            padding: 12px 24px;
            background: #ffffff;
            border-bottom: 1px solid #e2e8f0;
            display: flex; justify-content: space-between; align-items: center;
            flex-shrink: 0;
            height: 60px;
        }

        .modal-body {
            flex-grow: 1;
            background-color: #f8fafc;
            position: relative;
            width: 100%; height: 100%;
        }
        
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body id="top" class="text-slate-700 antialiased selection:bg-blue-100 selection:text-blue-900 flex flex-col min-h-screen">

    <div class="soft-glow-background"></div>

    <!-- WRAPPER STICKY HEADER -->
    <header id="main-header" class="sticky top-0 z-50 flex-shrink-0 transition-all duration-300">
        <div class="navbar-inner bg-white/95 backdrop-blur-md border-b border-white/50 h-16 lg:h-20 transition-all shadow-sm">
            <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between gap-4">
                <a href="https://kiotvietlnd.github.io/elearning/" class="flex-shrink-0 flex items-center gap-2 lg:gap-3 select-none hover:opacity-80 transition-opacity">
                    <img src="https://logo.kiotviet.vn/KiotViet-Logo-Horizontal.svg" alt="KiotViet Logo" class="h-5 lg:h-8">
                    <span class="text-slate-300 font-light text-xl lg:text-2xl">|</span>
                    <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-green-700 tracking-tight text-sm lg:text-lg uppercase">E-Learning</span>
                </a>

                <nav class="hidden md:flex flex-1 items-center justify-end gap-2 overflow-x-auto no-scrollbar">
                    <a href="https://kiotvietlnd.github.io/elearning/retail" class="nav-pill retail active"><i class="fa-solid fa-shop"></i> <span class="hidden sm:inline">KiotViet</span> Retail</a>
                    <a href="https://kiotvietlnd.github.io/elearning/fnb" class="nav-pill fnb"><i class="fa-solid fa-utensils"></i> <span class="hidden sm:inline">KiotViet</span> FNB</a>
                    <a href="https://kiotvietlnd.github.io/elearning/salon" class="nav-pill salon"><i class="fa-solid fa-spa"></i> <span class="hidden sm:inline">KiotViet</span> Salon</a>
                    <a href="https://kiotvietlnd.github.io/elearning/hotel" class="nav-pill hotel"><i class="fa-solid fa-hotel"></i> <span class="hidden sm:inline">KiotViet</span> Hotel</a>
                    <a href="https://kiotvietlnd.github.io/elearning/thuehkd" class="nav-pill thue"><i class="fa-solid fa-scale-balanced"></i> <span class="hidden sm:inline">Thuế</span> HKD</a>
                </nav>
                
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-600 hover:text-blue-600 text-2xl w-10 h-10 flex items-center justify-center rounded-lg hover:bg-slate-50 transition-colors">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-white border-b border-slate-200 shadow-lg md:hidden z-40">
            <div class="p-4 flex flex-col gap-2 max-h-[calc(100vh-80px)] overflow-y-auto">
                <p class="px-4 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider">Danh mục</p>
                <a href="https://kiotvietlnd.github.io/elearning/retail" class="mobile-nav-item"><i class="fa-solid fa-shop text-blue-600 w-5 text-center"></i> KiotViet Retail</a>
                <a href="https://kiotvietlnd.github.io/elearning/fnb" class="mobile-nav-item"><i class="fa-solid fa-utensils text-orange-600 w-5 text-center"></i> KiotViet FNB</a>
                <a href="https://kiotvietlnd.github.io/elearning/salon" class="mobile-nav-item"><i class="fa-solid fa-spa text-pink-600 w-5 text-center"></i> KiotViet Salon</a>
                <a href="https://kiotvietlnd.github.io/elearning/hotel" class="mobile-nav-item"><i class="fa-solid fa-hotel text-emerald-600 w-5 text-center"></i> KiotViet Hotel</a>
                <a href="https://kiotvietlnd.github.io/elearning/thuehkd" class="mobile-nav-item"><i class="fa-solid fa-scale-balanced text-teal-600 w-5 text-center"></i> Cẩm nang Thuế HKD</a>
            </div>
        </div>
    </header>

    <!-- MAIN CONTAINER -->
    <main class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-14 flex-grow w-full">
        
        <!-- 1. HERO SECTION -->
        <section class="grid lg:grid-cols-2 gap-12 items-center mb-16 lg:mb-20">
            <div class="text-center lg:text-left">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-black text-slate-800 tracking-tight leading-tight">
                    <span class="text-gradient-primary">Thư viện E-Learning<br>KiotViet Retail</span>
                </h1>
                <p class="mt-4 text-lg font-bold text-slate-500 uppercase tracking-wide">
                    HỌC TẬP ONLINE ĐA NỀN TẢNG
                </p>
                
                <!-- Hero Description -->
                <div class="mt-8 space-y-3 text-slate-700 text-[15px] leading-relaxed text-left bg-white/60 p-5 rounded-2xl backdrop-blur-sm border border-white">
                    <p class="border-l-4 border-blue-500 pl-4 py-1">
                        <span class="font-bold text-blue-700">Khóa học E-Learning</span>: Học tập tương tác, mọi lúc mọi nơi.
                    </p>
                    <p class="border-l-4 border-teal-500 pl-4 py-1">
                        <span class="font-bold text-teal-700">Trang Hỗ trợ</span>: Tài liệu Hướng dẫn sử dụng chi tiết từ A-Z.
                    </p>
                    <p class="border-l-4 border-red-500 pl-4 py-1">
                        <span class="font-bold text-red-700">Video HDSD</span>: Kênh YouTube HDSD trực quan sinh động.
                    </p>
                    <p class="border-l-4 border-slate-500 pl-4 py-1">
                        <span class="font-bold text-slate-700">Hỏi đáp AI</span>: Trợ lý ảo NotebookLM giải đáp tức thì.
                    </p>
                </div>

                <!-- Thanh tìm kiếm -->
                <div class="mt-8 relative max-w-lg mx-auto lg:mx-0 search-container-focus rounded-full transition-all duration-300">
                    <div class="absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none">
                        <i class="fa-solid fa-magnifying-glass text-blue-500 text-lg"></i>
                    </div>
                    <input type="text" id="searchInput" class="block w-full pl-14 pr-32 py-4 bg-white border border-slate-200 rounded-full text-slate-800 font-medium placeholder-slate-400 focus:outline-none focus:border-blue-400 shadow-lg shadow-blue-900/5 text-base" placeholder="Tìm tài liệu, video khóa học Retail...">
                    <button id="searchBtn" class="absolute inset-y-1.5 right-1.5 bg-blue-600 hover:bg-blue-700 text-white px-6 rounded-full font-bold transition-all text-sm tracking-wide">Lọc ngay</button>
                </div>
                
                <!-- Thông báo không tìm thấy -->
                <div id="noResultsMsg" class="hidden mt-4 text-red-500 font-semibold bg-red-50 py-2 px-4 rounded-lg inline-block border border-red-100">
                    <i class="fa-solid fa-circle-exclamation mr-1"></i> Không tìm thấy nội dung phù hợp.
                </div>
            </div>
            
            <div class="hidden lg:flex items-center justify-end p-8">
                <!-- HERO ICON -->
                <div class="w-80 h-80 bg-white rounded-full flex items-center justify-center shadow-2xl shadow-blue-100 border-8 border-white/80 relative overflow-hidden hover:scale-105 transition-transform duration-500">
                    <div class="absolute w-[17rem] h-[17rem] rounded-full border-2 border-dashed border-blue-100 animate-[spin_60s_linear_infinite]"></div>
                    <i class="fa-solid fa-cart-shopping text-[8rem] tech-gradient-icon-blue z-10 drop-shadow-sm"></i>
                </div>
            </div>
        </section>

        <!-- CONTENT AREA -->
        <div class="space-y-12 lg:space-y-16" id="mainContentArea">

            <!-- SECTION 1: E-LEARNING (WHITE SECTION BACKGROUND) -->
            <section class="section-wrapper bg-white rounded-2xl shadow-lg shadow-blue-900/5 p-6 lg:p-10 flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-courses">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-teal-50 text-teal-600 flex items-center justify-center text-3xl shadow-sm border border-teal-100 shrink-0">
                            <i class="fa-solid fa-graduation-cap"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Khóa học E-Learning</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Các chương trình đào tạo chuyên sâu được thiết kế chuẩn chỉnh cho từng vị trí.</p>
                        </div>
                        <a href="https://kiotvietlnd.github.io/elearning/" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-teal-600 text-white font-bold rounded-xl hover:bg-teal-700 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Xem lộ trình <i class="fa-solid fa-arrow-right text-sm"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        
                        <!-- Sales Card -->
                        <a href="https://kiotvietlnd.github.io/elearning/khoa-hoc-sales" class="soft-card group rounded-2xl overflow-hidden flex flex-col items-center justify-center p-8 bg-gradient-to-br from-blue-500 to-blue-700 text-white border-transparent shadow-lg shadow-blue-200 hover:shadow-xl hover:shadow-blue-300 hover:-translate-y-2 transition-all duration-300 searchable-item min-h-[220px]">
                            <div class="w-16 h-16 flex-shrink-0 rounded-2xl bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition-transform duration-300">
                                <i class="fa-solid fa-handshake text-white"></i>
                            </div>
                            <div class="text-center">
                                <h3 class="font-bold text-xl mb-2 text-white">Đào tạo Sales</h3>
                                <p class="text-blue-100 text-sm mb-5 leading-relaxed">Lộ trình dành cho Chuyên viên Kinh doanh.</p>
                                <span class="inline-flex items-center text-sm font-bold text-blue-700 bg-white px-5 py-2.5 rounded-xl group-hover:bg-blue-50 transition-colors shadow-sm">
                                    Bắt đầu ngay <i class="fa-solid fa-arrow-right ml-2"></i>
                                </span>
                            </div>
                        </a>

                        <!-- DVKH Card -->
                        <a href="https://kiotvietlnd.github.io/elearning/khoa-hoc-dvkh" class="soft-card group rounded-2xl overflow-hidden flex flex-col items-center justify-center p-8 bg-gradient-to-br from-emerald-500 to-emerald-700 text-white border-transparent shadow-lg shadow-emerald-200 hover:shadow-xl hover:shadow-emerald-300 hover:-translate-y-2 transition-all duration-300 searchable-item min-h-[220px]">
                            <div class="w-16 h-16 flex-shrink-0 rounded-2xl bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center text-3xl mb-4 group-hover:scale-110 transition-transform duration-300">
                                <i class="fa-solid fa-headset text-white"></i>
                            </div>
                            <div class="text-center">
                                <h3 class="font-bold text-xl mb-2 text-white">Đào tạo DVKH</h3>
                                <p class="text-emerald-100 text-sm mb-5 leading-relaxed">Lộ trình dành cho Chuyên viên DVKH.</p>
                                <span class="inline-flex items-center text-sm font-bold text-emerald-700 bg-white px-5 py-2.5 rounded-xl group-hover:bg-emerald-50 transition-colors shadow-sm">
                                    Bắt đầu ngay <i class="fa-solid fa-arrow-right ml-2"></i>
                                </span>
                            </div>
                        </a>

                    </div>
                </div>
            </section>

            <!-- SECTION 2: TRANG HỖ TRỢ -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-docs">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-blue-50 text-blue-600 flex items-center justify-center text-3xl shadow-sm border border-blue-100 shrink-0">
                            <i class="fa-solid fa-book"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Trang Hỗ trợ</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Tra cứu tài liệu Hướng dẫn sử dụng chi tiết, đầy đủ tính năng từ A-Z.</p>
                        </div>
                        <a href="https://www.kiotviet.vn/ho-tro/?type=retail" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Đến Trang Hỗ Trợ <i class="fa-solid fa-arrow-up-right-from-square text-sm"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        
                        <!-- Bài 1: Bắt đầu sử dụng HĐĐT -->
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/bat-dau-su-dung-hoa-don-dien-tu-kiotviet/" onclick="openModal(this.href, 'Bắt đầu sử dụng HĐĐT KiotViet'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-blue-300 hover:bg-blue-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-invoice"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-blue-600 text-sm leading-snug">
                                Bắt đầu HĐĐT KiotViet
                                <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase ml-1 inline-block">Mới</span>
                            </h3>
                        </a>

                        <!-- Bài 2: Sổ kế toán -->
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/so-ke-toan/" onclick="openModal(this.href, 'Sổ kế toán (Theo TT152)'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-blue-300 hover:bg-blue-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-book-journal-whills"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-blue-600 text-sm leading-snug">
                                Sổ kế toán (Theo TT152)
                                <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase ml-1 inline-block">Mới</span>
                            </h3>
                        </a>

                        <!-- Bài 3: Giá bán sau thuế -->
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/gia-ban-sau-thue/" onclick="openModal(this.href, 'Giá bán sau thuế'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-blue-300 hover:bg-blue-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-calculator"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-blue-600 text-sm leading-snug">
                                Giá bán sau thuế
                                <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase ml-1 inline-block">Mới</span>
                            </h3>
                        </a>

                        <!-- Bài 4: Máy POS Android -->
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-thiet-bi-phan-cung/may-pos-android-new/" onclick="openModal(this.href, 'Máy POS Android'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-blue-300 hover:bg-blue-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-mobile-screen-button"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-blue-600 text-sm leading-snug">
                                Máy POS Android
                                <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase ml-1 inline-block">Mới</span>
                            </h3>
                        </a>

                        <!-- Bài 5: Hóa đơn đầu vào -->
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-giao-dich/hoa-don-dau-vao/" onclick="openModal(this.href, 'Hóa đơn đầu vào'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-blue-300 hover:bg-blue-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-import"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-blue-600 text-sm leading-snug">
                                Hóa đơn đầu vào
                                <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase ml-1 inline-block">Mới</span>
                            </h3>
                        </a>

                        <!-- Bài 6: Chat đa kênh -->
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-ban-online/chat-da-kenh/" onclick="openModal(this.href, 'Chat đa kênh'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-blue-300 hover:bg-blue-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-regular fa-comments"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-blue-600 text-sm leading-snug">
                                Chat đa kênh
                                <span class="bg-red-500 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase ml-1 inline-block">Mới</span>
                            </h3>
                        </a>

                    </div>
                </div>
            </section>

            <!-- SECTION 3: VIDEO HDSD -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-videos">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-red-50 text-red-600 flex items-center justify-center text-3xl shadow-sm border border-red-100 shrink-0">
                            <i class="fa-brands fa-youtube"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Video HDSD</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Video hướng dẫn trực quan, sinh động, dễ dàng thao tác theo từng bước.</p>
                        </div>
                        <a href="https://www.youtube.com/playlist?list=PL3x3GXJzpHzSXXO4aVoriCCGga4hTWsMY" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Vào kênh YouTube <i class="fa-brands fa-youtube text-lg"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <div onclick="openModal('https://www.youtube.com/watch?v=FjgMnrJ4Mg4', 'Bước 1 - Thêm mới hàng hóa')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/FjgMnrJ4Mg4/mqdefault.jpg" alt="Thêm hàng hóa" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">Bước 1 - Thêm mới hàng hóa</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=WOFj4WJ4wGg', 'Bước 2 - Nhập hàng')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/WOFj4WJ4wGg/mqdefault.jpg" alt="Nhập hàng" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">Bước 2 - Nhập hàng</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=vKsQTQcrDmk', 'Bước 3 - Bán hàng')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/vKsQTQcrDmk/mqdefault.jpg" alt="Bán hàng" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">Bước 3 - Bán hàng</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=1Pu__-xhWgw', 'Bước 4 - Trả hàng')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/1Pu__-xhWgw/mqdefault.jpg" alt="Trả hàng" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">Bước 4 - Trả hàng</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=fN19OCFSyA4', 'Bước 5 - Quản lý công nợ')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/fN19OCFSyA4/mqdefault.jpg" alt="Quản lý công nợ" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">Bước 5 - Quản lý công nợ</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=cNzD01pR5zQ', 'Bước 6 - Theo dõi báo cáo')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/cNzD01pR5zQ/mqdefault.jpg" alt="Theo dõi báo cáo" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">Bước 6 - Theo dõi báo cáo</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 4: CHATBOT AI -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-ai">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-slate-100 text-slate-700 flex items-center justify-center text-3xl shadow-sm border border-slate-200 shrink-0">
                            <i class="fa-solid fa-robot"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Hỏi đáp AI</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Giải đáp nhanh chóng mọi thắc mắc về phần mềm với trợ lý ảo thông minh.</p>
                        </div>
                        <a href="https://notebooklm.google.com/notebook/a4480a38-2d6e-4974-9880-c45e534f5fa5" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-slate-50 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Mở Chatbot AI <i class="fa-solid fa-arrow-up-right-from-square text-sm"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="soft-card p-6 sm:p-8 bg-gradient-to-br from-white to-slate-50 border border-slate-200 searchable-item">
                        <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2">
                            <img src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg" class="w-6 h-6 animate-pulse" alt="AI">
                            Hỏi đáp thông minh với NotebookLM
                        </h3>
                        <p class="text-slate-600 text-sm mb-6 leading-relaxed">
                            Chatbot được xây dựng trên nền tảng AI NotebookLM của Google. <br>
                            Dữ liệu đầu vào được cập nhật liên tục từ chuyên trang HDSD KiotViet và các nguồn thông tin đào tạo nội bộ uy tín. <br><br>
                            <span class="font-semibold text-slate-800">Hướng dẫn sử dụng:</span> Bạn chỉ cần đăng nhập bằng tài khoản Gmail bất kỳ để bắt đầu đặt câu hỏi trực tiếp về cách dùng KiotViet Retail.
                        </p>
                        <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 flex gap-3">
                            <i class="fa-solid fa-triangle-exclamation text-amber-600 mt-0.5 shrink-0 text-lg"></i>
                            <p class="text-xs sm:text-sm text-amber-800 font-medium">
                                Lưu ý: Thông tin do AI cung cấp có thể chưa hoàn toàn chính xác tuyệt đối do cách hành văn. Vui lòng kết hợp tra cứu tài liệu chính thức hoặc liên hệ Trainer để xác nhận nếu có điểm nghi ngờ.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-white/60 backdrop-blur-md border-t border-slate-200 py-8 relative z-10 mt-auto w-full flex-shrink-0">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="text-slate-500 text-xs font-medium">© 2026 KiotViet Learning & Development.</p>
        </div>
    </footer>

    <!-- MODAL POPUP -->
    <div id="learning-modal">
        <div class="modal-window">
            <div class="modal-header">
                <h3 id="modal-title" class="font-bold text-lg text-slate-800 truncate">Nội dung chi tiết</h3>
                <div class="flex items-center gap-3">
                    <a id="open-new-tab-btn" href="#" target="_blank" class="text-slate-500 hover:text-blue-600 transition-colors" title="Mở trong tab mới">
                        <i class="fa-solid fa-arrow-up-right-from-square"></i>
                    </a>
                    <button onclick="closeModal()" class="text-slate-500 hover:text-red-600 transition-colors p-2 rounded-full hover:bg-slate-100">
                        <i class="fa-solid fa-xmark text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <iframe id="course-iframe" class="w-full h-full border-none" src="" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // NAVBAR SCROLL
            const header = document.getElementById('main-header');
            if (header) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 20) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                });
            }

            // MOBILE MENU
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                    const icon = mobileMenuBtn.querySelector('i');
                    if (mobileMenu.classList.contains('hidden')) {
                        icon.classList.remove('fa-xmark'); icon.classList.add('fa-bars');
                    } else {
                        icon.classList.remove('fa-bars'); icon.classList.add('fa-xmark');
                    }
                });
            }
            
            // TÌM KIẾM (FILTER LOGIC - ẨN SECTION RỖNG)
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sections = document.querySelectorAll('.section-wrapper'); 
            const noResultsMsg = document.getElementById('noResultsMsg');

            function performSearch() {
                const query = searchInput.value.toLowerCase().trim();
                let totalHasResult = false;

                sections.forEach(section => {
                    const itemsInSection = section.querySelectorAll('.searchable-item');
                    if (itemsInSection.length === 0) return; // Bỏ qua nếu section không có item nào

                    let sectionHasResult = false;
                    
                    itemsInSection.forEach(item => {
                        const text = item.innerText.toLowerCase();
                        if (text.includes(query)) {
                            item.style.display = ''; 
                            sectionHasResult = true;
                            totalHasResult = true;
                        } else {
                            item.style.display = 'none'; 
                        }
                    });

                    // Nếu có nhập từ khóa mà section không có item nào khớp -> ẩn cả section đó
                    if (query !== '' && !sectionHasResult) {
                        section.style.display = 'none';
                    } else {
                        section.style.display = ''; // Trả về display mặc định (flex)
                    }
                });

                // Xử lý thông báo "Không tìm thấy" tổng quát
                if (!totalHasResult && query !== '') {
                    noResultsMsg.classList.remove('hidden');
                } else {
                    noResultsMsg.classList.add('hidden');
                }
            }

            if (searchInput && searchBtn) {
                searchInput.addEventListener('input', performSearch);
                searchBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    performSearch();
                    document.getElementById('mainContentArea').scrollIntoView({ behavior: 'smooth' });
                });
            }

            // ĐÓNG MODAL KHI CLICK NGOÀI HOẶC ESC
            document.getElementById('learning-modal').addEventListener('click', (e) => { 
                if (e.target.id === 'learning-modal') closeModal(); 
            });
            document.addEventListener('keydown', (e) => { 
                if (e.key === "Escape") closeModal(); 
            });
        });

        // HÀM XỬ LÝ LINK YOUTUBE CHO MODAL
        function formatLink(url) {
            if (!url) return '';
            if (url.includes('youtube.com') || url.includes('youtu.be')) {
                if (url.includes('/embed/')) return url;
                let videoId = '';
                if (url.includes('v=')) { videoId = url.split('v=')[1].split('&')[0].split('?')[0]; } 
                else if (url.includes('youtu.be/')) { videoId = url.split('youtu.be/')[1].split('?')[0]; }
                if (url.includes('list=')) { const listId = url.split('list=')[1].split('&')[0]; return `https://www.youtube.com/embed/videoseries?list=${listId}`; }
                if (videoId) { return `https://www.youtube.com/embed/${videoId}?autoplay=1`; }
            }
            return url;
        }

        // MỞ MODAL
        function openModal(url, title) {
            if (!url) return;
            const modal = document.getElementById('learning-modal');
            const iframe = document.getElementById('course-iframe');
            const titleEl = document.getElementById('modal-title');
            const newTabBtn = document.getElementById('open-new-tab-btn');
            
            iframe.src = formatLink(url);
            if(title) titleEl.textContent = title;
            newTabBtn.href = url;
            
            modal.classList.add('open');
            document.body.style.overflow = 'hidden'; // Ngăn cuộn trang web bên dưới
        }

        // ĐÓNG MODAL
        function closeModal() {
            const modal = document.getElementById('learning-modal');
            const iframe = document.getElementById('course-iframe');
            modal.classList.remove('open');
            setTimeout(() => { iframe.src = ''; }, 300); // Đợi CSS transition xong mới xóa link
            document.body.style.overflow = '';
        }
    </script>
</body>
</html>
