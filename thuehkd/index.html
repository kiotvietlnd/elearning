<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cẩm nang Thuế HKD - Thư viện E-Learning</title>
    <meta name="description" content="Tổng hợp kiến thức về Hóa đơn điện tử, Thuế và Chế độ kế toán dành cho Hộ kinh doanh.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff; /* Retail Standard Background */
            font-size: 14px; 
            -webkit-tap-highlight-color: transparent;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f0f9ff; }
        ::-webkit-scrollbar-thumb { background: #93c5fd; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3b82f6; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none;  scrollbar-width: none; }

        /* Template Background */
        .soft-glow-background { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; 
            background: linear-gradient(135deg, #ffffff 0%, #e0f2fe 50%, #dcfce7 100%);
        }

        /* --- NAVBAR STYLES --- */
        header.scrolled .navbar-inner {
            background-color: rgb(255 255 255 / 0.98);
            backdrop-filter: blur(0px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }
        .nav-pill {
            display: flex; align-items: center; gap: 8px; padding: 8px 16px;
            border-radius: 9999px; font-size: 0.875rem; font-weight: 600;
            border: 1px solid transparent; transition: all 0.2s; white-space: nowrap;
            color: #64748b; border-color: #e2e8f0; background-color: transparent;
            flex-shrink: 0; text-decoration: none;
        }
        .nav-pill:hover { background-color: #f8fafc; }
        
        .nav-pill.retail:hover { color: #2563eb; border-color: #2563eb; background-color: #eff6ff; }
        .nav-pill.fnb:hover { color: #ea580c; border-color: #ea580c; background-color: #fff7ed; }
        .nav-pill.salon:hover { color: #db2777; border-color: #db2777; background-color: #fdf2f8; }
        .nav-pill.hotel:hover { color: #16a34a; border-color: #16a34a; background-color: #f0fdf4; }
        
        /* Tax Highlight - TEAL on Navbar */
        .nav-pill.thue.active { background-color: #0d9488; color: white; border-color: transparent; box-shadow: 0 4px 6px -1px rgba(13, 148, 136, 0.2); }

        .mobile-nav-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 16px;
            border-radius: 8px; font-size: 1rem; font-weight: 600;
            color: #475569; transition: all 0.2s; text-decoration: none;
        }
        .mobile-nav-item:hover { background-color: #f0fdfa; color: #0d9488; }

        /* --- PAGE SPECIFIC STYLES (Teal Theme) --- */
        .text-gradient-tax {
            background: linear-gradient(to right, #0d9488, #0891b2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Search Bar Focus Glow */
        .search-container-focus:focus-within {
            box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.2);
        }

        /* Section Layout */
        .section-wrapper {
            padding-bottom: 3.5rem;
            margin-bottom: 3.5rem;
            border-bottom: 1px dashed #cbd5e1;
        }
        .section-wrapper:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        /* Soft UI Card Hover Effects */
        .soft-card {
            transition: all 0.3s ease-in-out;
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
        }
        .soft-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.1);
        }

        /* Video Card Customizations */
        .thumbnail-container {
            position: relative; padding-top: 56.25%; /* 16:9 Aspect Ratio */
            overflow: hidden; background-color: #000;
            border-top-left-radius: 1rem; border-top-right-radius: 1rem;
        }
        .thumbnail-img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.9; transition: opacity 0.3s;
        }
        .play-overlay {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 48px; height: 48px; background: rgba(0,0,0,0.6); border-radius: 50%;
            display: flex; align-items: center; justify-content: center; color: white;
            transition: all 0.3s; backdrop-filter: blur(2px);
        }
        .soft-card.video-card:hover .play-overlay { background: #ef4444; transform: translate(-50%, -50%) scale(1.1); }
        .soft-card.video-card:hover .thumbnail-img { opacity: 1; }

        /* Support Card */
        .support-card {
            background: #fff; border: 1px solid #f1f5f9; border-radius: 12px;
            padding: 1rem; transition: all 0.2s;
            display: flex; flex-direction: column; align-items: flex-start; gap: 0.5rem;
            height: 100%; cursor: pointer;
        }
        .support-card:hover {
            border-color: #ccfbf1; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05); transform: translateY(-2px); background-color: #f0fdfa;
        }
        .support-icon {
            width: 40px; height: 40px; border-radius: 8px; display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; margin-bottom: 0.25rem;
        }

        /* AI Card */
        .ai-card {
            background: linear-gradient(to right, #f8fafc, #f1f5f9); 
            border: 1px solid #e2e8f0;
            border-radius: 16px; padding: 1.5rem;
        }

        /* UPDATED E-LEARNING ITEM STYLES */
        .elearning-item {
            display: flex; 
            flex-direction: column; 
            align-items: flex-start; 
            gap: 0.75rem; 
            padding: 1rem;
            background: white; border: 1px solid #e2e8f0; border-radius: 12px;
            transition: all 0.2s; cursor: pointer; text-decoration: none;
            height: 100%; 
        }
        .elearning-item:hover {
            border-color: #2563eb; background-color: #eff6ff; 
            transform: translateY(-2px); 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        .elearning-icon {
            width: 40px; height: 40px; 
            border-radius: 8px; 
            display: flex; align-items: center; justify-content: center; flex-shrink: 0;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }

        /* Button Style */
        .btn-view-more {
            display: inline-flex; items-center; justify-content: center; gap: 8px; padding: 10px 24px;
            border-radius: 9999px; font-weight: 600; font-size: 0.875rem;
            transition: all 0.2s; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            min-width: 140px; cursor: pointer;
            text-decoration: none;
        }

        /* Modal Styles */
        #learning-modal {
            display: none; position: fixed; z-index: 9999; left: 0; top: 0;
            width: 100%; height: 100%; overflow: hidden;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            transition: opacity 0.3s ease;
            opacity: 0;
        }
        #learning-modal.open { display: flex; align-items: center; justify-content: center; opacity: 1; }
        
        .modal-window {
            width: 98%; height: 95vh;
            max-width: 100%;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            display: flex; flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
            transform: scale(0.95); transition: transform 0.3s ease;
        }
        #learning-modal.open .modal-window { transform: scale(1); }

        .modal-header {
            padding: 12px 24px;
            background: #ffffff;
            border-bottom: 1px solid #e2e8f0;
            display: flex; justify-content: space-between; align-items: center;
            flex-shrink: 0;
            height: 60px;
        }

        .modal-body {
            flex-grow: 1;
            background-color: #f8fafc;
            position: relative;
            width: 100%; height: 100%;
        }
        
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body id="top" class="text-slate-700 antialiased selection:bg-teal-100 selection:text-teal-900 flex flex-col min-h-screen">

    <div class="soft-glow-background"></div>

    <header id="main-header" class="sticky top-0 z-50 flex-shrink-0 transition-all duration-300">
        <div class="navbar-inner bg-white/95 backdrop-blur-md border-b border-white/50 h-16 lg:h-20 transition-all shadow-sm">
            <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between gap-4">
                <a href="https://kiotvietlnd.github.io/elearning/" class="flex-shrink-0 flex items-center gap-2 lg:gap-3 select-none hover:opacity-80 transition-opacity">
                    <img src="https://logo.kiotviet.vn/KiotViet-Logo-Horizontal.svg" alt="KiotViet Logo" class="h-5 lg:h-8">
                    <span class="text-slate-300 font-light text-xl lg:text-2xl">|</span>
                    <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-green-700 tracking-tight text-sm lg:text-lg uppercase">E-Learning</span>
                </a>

                <nav class="hidden md:flex flex-1 items-center justify-end gap-2 overflow-x-auto no-scrollbar">
                    <a href="https://kiotvietlnd.github.io/elearning/retail" class="nav-pill retail"><i class="fa-solid fa-shop"></i> <span class="hidden sm:inline">KiotViet</span> Retail</a>
                    <a href="https://kiotvietlnd.github.io/elearning/fnb" class="nav-pill fnb"><i class="fa-solid fa-utensils"></i> <span class="hidden sm:inline">KiotViet</span> FNB</a>
                    <a href="https://kiotvietlnd.github.io/elearning/salon" class="nav-pill salon"><i class="fa-solid fa-spa"></i> <span class="hidden sm:inline">KiotViet</span> Salon</a>
                    <a href="https://kiotvietlnd.github.io/elearning/hotel" class="nav-pill hotel"><i class="fa-solid fa-hotel"></i> <span class="hidden sm:inline">KiotViet</span> Hotel</a>
                    <a href="https://kiotvietlnd.github.io/elearning/thuehkd" class="nav-pill thue active"><i class="fa-solid fa-scale-balanced"></i> <span class="hidden sm:inline">Thuế</span> HKD</a>
                </nav>
                
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-slate-600 hover:text-teal-600 text-2xl w-10 h-10 flex items-center justify-center rounded-lg hover:bg-slate-50 transition-colors">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="hidden absolute top-full left-0 w-full bg-white border-b border-slate-200 shadow-lg md:hidden z-40">
            <div class="p-4 flex flex-col gap-2 max-h-[calc(100vh-80px)] overflow-y-auto">
                <p class="px-4 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider">Danh mục</p>
                <a href="https://kiotvietlnd.github.io/elearning/retail" class="mobile-nav-item"><i class="fa-solid fa-shop text-blue-600 w-5 text-center"></i> KiotViet Retail</a>
                <a href="https://kiotvietlnd.github.io/elearning/fnb" class="mobile-nav-item"><i class="fa-solid fa-utensils text-orange-600 w-5 text-center"></i> KiotViet FNB</a>
                <a href="https://kiotvietlnd.github.io/elearning/salon" class="mobile-nav-item"><i class="fa-solid fa-spa text-pink-600 w-5 text-center"></i> KiotViet Salon</a>
                <a href="https://kiotvietlnd.github.io/elearning/hotel" class="mobile-nav-item"><i class="fa-solid fa-hotel text-emerald-600 w-5 text-center"></i> KiotViet Hotel</a>
                <a href="https://kiotvietlnd.github.io/elearning/thuehkd" class="mobile-nav-item"><i class="fa-solid fa-scale-balanced text-teal-600 w-5 text-center"></i> Cẩm nang Thuế HKD</a>
            </div>
        </div>
    </header>

    <main class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-14 flex-grow w-full">
        
        <section class="grid lg:grid-cols-2 gap-12 items-center mb-16 lg:mb-20">
            <div class="text-center lg:text-left">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-black text-slate-800 tracking-tight leading-tight">
                    <span class="text-gradient-tax">Cẩm nang<br>Thuế Hộ kinh doanh</span>
                </h1>
                <p class="mt-4 text-lg font-bold text-slate-500 uppercase tracking-wide">
                    HỌC TẬP ONLINE ĐA NỀN TẢNG
                </p>
                
                <div class="mt-8 space-y-3 text-slate-700 text-[15px] leading-relaxed text-left bg-white/60 p-5 rounded-2xl backdrop-blur-sm border border-white">
                    <p class="border-l-4 border-indigo-500 pl-4 py-1">
                        <span class="font-bold text-indigo-700">Kiến thức nền tảng</span>: Tổng quan quy định và nghiệp vụ Thuế.
                    </p>
                    <p class="border-l-4 border-teal-500 pl-4 py-1">
                        <span class="font-bold text-teal-700">Trang Hỗ trợ</span>: Tài liệu Hướng dẫn sử dụng chi tiết.
                    </p>
                    <p class="border-l-4 border-red-500 pl-4 py-1">
                        <span class="font-bold text-red-700">Video HDSD</span>: Kênh YouTube HDSD - Phần mềm KiotViet.
                    </p>
                    <p class="border-l-4 border-slate-500 pl-4 py-1">
                        <span class="font-bold text-slate-700">Pháp luật & Công cụ</span>: Văn bản, thông tư & tính toán nhanh.
                    </p>
                </div>

                <div class="mt-8 relative max-w-lg mx-auto lg:mx-0 search-container-focus rounded-full transition-all duration-300">
                    <div class="absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none">
                        <i class="fa-solid fa-magnifying-glass text-teal-500 text-lg"></i>
                    </div>
                    <input type="text" id="searchInput" class="block w-full pl-14 pr-32 py-4 bg-white border border-slate-200 rounded-full text-slate-800 font-medium placeholder-slate-400 focus:outline-none focus:border-teal-400 shadow-lg shadow-teal-900/5 text-base" placeholder="Tìm tài liệu thuế, hóa đơn, thông tư...">
                    <button id="searchBtn" class="absolute inset-y-1.5 right-1.5 bg-teal-600 hover:bg-teal-700 text-white px-6 rounded-full font-bold transition-all text-sm tracking-wide">Lọc ngay</button>
                </div>
                
                <div id="noResultsMsg" class="hidden mt-4 text-red-500 font-semibold bg-red-50 py-2 px-4 rounded-lg inline-block border border-red-100">
                    <i class="fa-solid fa-circle-exclamation mr-1"></i> Không tìm thấy nội dung phù hợp.
                </div>
            </div>
            
            <div class="hidden lg:flex items-center justify-end p-8">
                <div class="w-80 h-80 bg-white rounded-full flex items-center justify-center shadow-2xl shadow-teal-100 border-8 border-white/80 relative overflow-hidden hover:scale-105 transition-transform duration-500">
                    <div class="absolute w-[17rem] h-[17rem] rounded-full border-2 border-dashed border-teal-200 animate-[spin_60s_linear_infinite]"></div>
                    <i class="fa-solid fa-file-invoice-dollar text-[8rem] bg-gradient-to-br from-teal-500 to-cyan-400 -webkit-background-clip-text text-transparent bg-clip-text z-10 drop-shadow-sm"></i>
                </div>
            </div>
        </section>

        <div class="space-y-12 lg:space-y-16" id="mainContentArea">

            <!-- SECTION 1: KIẾN THỨC NỀN TẢNG -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-foundation">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-3xl shadow-sm border border-indigo-100 shrink-0">
                            <i class="fa-solid fa-lightbulb"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Kiến thức nền tảng</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Thông tin cơ bản cần biết về Thuế và Kế toán Hộ kinh doanh.</p>
                        </div>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/bo-giai-phap-hddt-thue-kt-hkd" onclick="openModal(this.href, 'Tổng quan Bộ giải pháp'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-cubes"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">1. Tổng quan Bộ giải pháp HĐĐT - Thuế - Kế toán HKD của KiotViet</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/cac-phuong-phap-tinh-thue-hkd" onclick="openModal(this.href, 'Phương pháp tính thuế'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-calculator"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">2. Tổng quan Các phương pháp tính thuế cho Hộ kinh doanh</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/so-ke-toan-ho-kinh-doanh" onclick="openModal(this.href, 'Sổ kế toán HKD'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-book-journal-whills"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">3. Tổng quan Sổ Kế toán Hộ kinh doanh (TT 88 & TT 152)</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/huong-dan-nop-thue-hkd" onclick="openModal(this.href, 'Hướng dẫn nộp thuế'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-hand-holding-dollar"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">4. Tổng quan Hướng dẫn nộp thuế cho HKD</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/hddt-may-tinh-tien" onclick="openModal(this.href, 'HĐĐT từ máy tính tiền'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-cash-register"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">5. Tổng quan Hóa đơn điện tử từ máy tính tiền</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/ky-hieu-hoa-don-dien-tu" onclick="openModal(this.href, 'Ký hiệu HĐĐT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-font"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">6. Tổng quan Ký hiệu hóa đơn điện tử cho Hộ kinh doanh</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/xu-ly-hoa-don-sai-sot" onclick="openModal(this.href, 'Xử lý hóa đơn sai sót'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-triangle-exclamation"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">7. Tổng quan Xử lý hóa đơn sai sót</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/chu-ky-so" onclick="openModal(this.href, 'Chữ ký số'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-key"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">8. Tổng quan Chữ ký số cho Hộ kinh doanh</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quan-ly-hoa-don-dau-vao" onclick="openModal(this.href, 'Quản lý hóa đơn đầu vào'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-indigo-50 text-indigo-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-import"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-indigo-600 text-sm leading-snug">9. Tổng quan Hóa đơn đầu vào</h3>
                        </a>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: TRANG HỖ TRỢ -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-docs">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-teal-50 text-teal-600 flex items-center justify-center text-3xl shadow-sm border border-teal-100 shrink-0">
                            <i class="fa-solid fa-book"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Trang Hỗ trợ (HDSD)</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Hướng dẫn chi tiết về Hóa đơn điện tử, Chữ ký số và Thuế trên phần mềm.</p>
                        </div>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-teal-600 text-white font-bold rounded-xl hover:bg-teal-700 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Đến Trang Hỗ Trợ <i class="fa-solid fa-arrow-up-right-from-square text-sm"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/quy-trinh-trien-khai-hoa-don-dien-tu/" onclick="openModal(this.href, 'Quy trình triển khai HĐĐT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-list-check"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">1. Quy trình triển khai Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/dang-ky-chu-ky-so-kiotviet-intrustca/" onclick="openModal(this.href, 'Đăng ký Chữ ký số'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-signature"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">2. Đăng ký Chữ ký số KiotViet IntrustCA</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/thiet-lap-thue-vat/" onclick="openModal(this.href, 'Thiết lập Thuế VAT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-percent"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">3. Thiết lập Thuế VAT</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/dang-ky-hoa-don-dien-tu-kiotviet-einvoice/" onclick="openModal(this.href, 'Sử dụng KiotViet eInvoice'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-contract"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">4. Sử dụng KiotViet eInvoice</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/thiet-lap-chu-ky-so-tren-kiotviet-einvoice/" onclick="openModal(this.href, 'Thiết lập chữ ký số'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-key"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">5. Thiết lập chữ ký số</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/lap-to-khai-dang-ky-hddt-tren-kiotviet-einvoice/" onclick="openModal(this.href, 'Lập Tờ khai đăng ký HĐĐT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-pen"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">6. Lập Tờ khai đăng ký HĐĐT</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/tao-mau-hoa-don-dien-tu-tren-kiotviet-einvoice/" onclick="openModal(this.href, 'Tạo mẫu HĐĐT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-palette"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">7. Tạo mẫu Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/ket-noi-phan-mem-hoa-don-dien-tu/" onclick="openModal(this.href, 'Kết nối Phần mềm HĐĐT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-link"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">8. Kết nối Phần mềm HĐĐT</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/phat-hanh-hoa-don-dien-tu-tren-kiotviet/" onclick="openModal(this.href, 'Phát hành Hóa đơn điện tử'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-paper-plane"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">9. Phát hành Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/quan-ly-hoa-don-dien-tu-tren-kiotviet-einvoice/" onclick="openModal(this.href, 'Quản lý Hóa đơn điện tử'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-list-ol"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">10. Quản lý Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/so-ke-toan/" onclick="openModal(this.href, 'Sổ kế toán (Thông tư 88)'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-book-journal-whills"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">11. Sổ kế toán (Thông tư 88)</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/so-ke-toan/" onclick="openModal(this.href, 'Sổ kế toán (Thông tư 152)'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-book-journal-whills"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">12. Sổ kế toán (Thông tư 152)</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-hoa-don-dien-tu/to-khai-thue/" onclick="openModal(this.href, 'Tờ khai thuế (Thông tư 40)'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-contract"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">13. Tờ khai thuế (Thông tư 40)</h3>
                        </a>
                        <a href="https://www.kiotviet.vn/huong-dan-su-dung-kiotviet/retail-giao-dich/hoa-don-dau-vao/" onclick="openModal(this.href, 'Quản lý Hóa đơn đầu vào'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-teal-300 hover:bg-teal-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-teal-50 text-teal-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-import"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-teal-600 text-sm leading-snug">14. Quản lý Hóa đơn đầu vào</h3>
                        </a>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: KHÓA HỌC QUIZ (TEAL/CYAN THEME - UPDATED ICONS) -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-quiz">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-3xl shadow-sm border border-cyan-100 shrink-0">
                            <i class="fa-solid fa-graduation-cap"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Khóa học E-Learning</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Bài kiểm tra trắc nghiệm kiến thức nghiệp vụ Thuế - Hóa đơn.</p>
                        </div>
                        <a href="https://kiotvietlnd.github.io/elearning/khoa-hoc-dvkh/thuehkd-01" onclick="openModal(this.href, 'Khóa học E-Learning'); return false;" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-cyan-600 text-white font-bold rounded-xl hover:bg-cyan-700 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Làm bài kiểm tra <i class="fa-solid fa-arrow-right text-sm"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/quy-trinh-hddt-kiotviet" onclick="openModal(this.href, 'Quiz 1'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-clipboard-list"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">1. Quy trình triển khai Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/dang-ky-chu-ky-so" onclick="openModal(this.href, 'Quiz 2'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-signature"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">2. Đăng ký Chữ ký số KiotViet IntrustCA</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/thiet-lap-thue-vat" onclick="openModal(this.href, 'Quiz 3'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-percent"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">3. Thiết lập Thuế VAT</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/bat-dau-su-dung-kve" onclick="openModal(this.href, 'Quiz 4'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-play"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">4. Bắt đầu sử dụng KiotViet eInvoice</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/thiet-lap-chu-ky-so" onclick="openModal(this.href, 'Quiz 5'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-key"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">5. Thiết lập chữ ký số</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/lap-to-khai-hddt" onclick="openModal(this.href, 'Quiz 6'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-pen"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">6. Lập Tờ khai đăng ký HĐĐT</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/tao-mau-hddt" onclick="openModal(this.href, 'Quiz 7'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-palette"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">7. Tạo mẫu Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/ket-noi-pmbh-hddt-kiotviet" onclick="openModal(this.href, 'Quiz 8'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-link"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">8. Kết nối Phần mềm HĐĐT</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/phat-hanh-hddt" onclick="openModal(this.href, 'Quiz 9'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-paper-plane"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">9. Phát hành Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/quan-ly-hddt-kve" onclick="openModal(this.href, 'Quiz 10'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-list-check"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">10. Quản lý Hóa đơn điện tử</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/so-ke-toan-tt88" onclick="openModal(this.href, 'Quiz 11'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-book"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">11. Sổ kế toán (Thông tư 88)</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/so-ke-toan-tt152" onclick="openModal(this.href, 'Quiz 12'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-book-open"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">12. Sổ kế toán (Thông tư 152)</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/to-khai-thue-tt40" onclick="openModal(this.href, 'Quiz 13'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-invoice-dollar"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">13. Tờ khai thuế (Thông tư 40)</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/quiz/hoa-don-dau-vao" onclick="openModal(this.href, 'Quiz 14'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-300 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-file-arrow-down"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">14. Quản lý Hóa đơn đầu vào</h3>
                        </a>
                    </div>
                </div>
            </section>

            <!-- SECTION 4: VIDEO HDSD -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-videos">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-red-50 text-red-600 flex items-center justify-center text-3xl shadow-sm border border-red-100 shrink-0">
                            <i class="fa-brands fa-youtube"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Video HDSD</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Video hướng dẫn nghiệp vụ Hóa đơn điện tử và Chữ ký số.</p>
                        </div>
                        <a href="https://www.youtube.com/watch?v=XYU9FfapH_A&list=PL3x3GXJzpHzSig3jxKN_M3M7yaxkIoWlY" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Vào kênh YouTube <i class="fa-brands fa-youtube text-lg"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <div onclick="openModal('https://www.youtube.com/watch?v=IqVICR7gXwU', '1. Chữ ký số KiotViet IntrustCA')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/IqVICR7gXwU/mqdefault.jpg" alt="Chữ ký số" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">1. Chữ ký số KiotViet IntrustCA</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=ioM6WCPjGgo', '2. Hóa đơn điện tử KiotViet')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/ioM6WCPjGgo/mqdefault.jpg" alt="Hóa đơn điện tử" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">2. Hóa đơn điện tử KiotViet</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=pqMSnC3jb74', '3. Phần mềm Kế toán HKD')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/pqMSnC3jb74/mqdefault.jpg" alt="Phần mềm Kế toán" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">3. Phần mềm Kế toán HKD</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=OXVYFyaT7k0', '4. Kê khai thuế Online')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/OXVYFyaT7k0/mqdefault.jpg" alt="Kê khai thuế Online" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">4. Kê khai thuế Online</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://youtu.be/UN8Inrh58_U', '5. Xử lý các lỗi HĐĐT phổ biến')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/UN8Inrh58_U/mqdefault.jpg" alt="Xử lý lỗi HĐĐT" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">5. Xử lý các lỗi HĐĐT phổ biến</h3>
                            </div>
                        </div>
                        <div onclick="openModal('https://www.youtube.com/watch?v=XYU9FfapH_A', '6. Hóa đơn đầu vào')" class="soft-card video-card group flex flex-col cursor-pointer hover:border-red-300 searchable-item">
                            <div class="thumbnail-container">
                                <img src="https://img.youtube.com/vi/XYU9FfapH_A/mqdefault.jpg" alt="Hóa đơn đầu vào" class="thumbnail-img">
                                <div class="play-overlay"><i class="fa-solid fa-play text-xl"></i></div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-bold text-slate-800 text-sm group-hover:text-red-600 line-clamp-2 transition-colors">6. Hóa đơn đầu vào</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 5: PHÁP LUẬT (GRAY THEME) -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-law">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-gray-100 text-gray-600 flex items-center justify-center text-3xl shadow-sm border border-gray-200 shrink-0">
                            <i class="fa-solid fa-gavel"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Văn bản Pháp luật</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Văn bản quy phạm pháp luật về Thuế và Kế toán.</p>
                        </div>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/thong-tu-152" onclick="openModal(this.href, '1. Thông tư 152/2025/TT-BTC'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-gray-400 hover:bg-gray-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-gray-100 text-gray-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-700 group-hover:text-gray-800 text-sm leading-snug">1. Thông tư 152/2025/TT-BTC</h3>
                                <p class="text-xs text-slate-500 mt-1">Chế độ Kế toán từ 01/01/2026</p>
                            </div>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/thong-tu-88" onclick="openModal(this.href, '2. Thông tư 88/2021/TT-BTC'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-gray-400 hover:bg-gray-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-gray-100 text-gray-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-700 group-hover:text-gray-800 text-sm leading-snug">2. Thông tư 88/2021/TT-BTC</h3>
                                <p class="text-xs text-slate-500 mt-1">Chế độ Kế toán đến 31/12/2025</p>
                            </div>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/thong-tu-40" onclick="openModal(this.href, '3. Thông tư 40/2021/TT-BTC'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-gray-400 hover:bg-gray-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-gray-100 text-gray-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-700 group-hover:text-gray-800 text-sm leading-snug">3. Thông tư 40/2021/TT-BTC</h3>
                                <p class="text-xs text-slate-500 mt-1">Quy định về PP Tính Thuế</p>
                            </div>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/nghi-dinh-70" onclick="openModal(this.href, '4. Nghị định 70/2025/NĐ-CP'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-gray-400 hover:bg-gray-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-gray-100 text-gray-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-700 group-hover:text-gray-800 text-sm leading-snug">4. Nghị định 70/2025/NĐ-CP</h3>
                                <p class="text-xs text-slate-500 mt-1">Quy định về Hóa đơn điện tử</p>
                            </div>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/luat-thue-gtgt" onclick="openModal(this.href, '5. Luật Thuế GTGT'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-gray-400 hover:bg-gray-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-gray-100 text-gray-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-gray-800 text-sm leading-snug">5. Luật Thuế GTGT (Cập nhật 2026)</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/luat-thue-tncn" onclick="openModal(this.href, '6. Luật Thuế TNCN'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-gray-400 hover:bg-gray-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-gray-100 text-gray-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-scale-balanced"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-gray-800 text-sm leading-snug">6. Luật Thuế TNCN (Cập nhật 2026)</h3>
                        </a>
                    </div>
                </div>
            </section>

            <!-- SECTION 6: CÔNG CỤ (CYAN THEME) -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-tools">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-3xl shadow-sm border border-cyan-100 shrink-0">
                            <i class="fa-solid fa-toolbox"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Công cụ tiện ích</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Các công cụ hỗ trợ tính toán và tra cứu nhanh.</p>
                        </div>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-5">
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/tai-khoan-demo-kv-einvoice" onclick="openModal(this.href, '1. Tài khoản demo KiotViet eInvoice'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-400 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-laptop-code"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">1. Tài khoản demo KiotViet eInvoice</h3>
                        </a>
                        <a href="https://www.youtube.com/playlist?list=PL3x3GXJzpHzSig3jxKN_M3M7yaxkIoWlY" onclick="openModal(this.href, '2. Video Playlist HDSD Bộ giải pháp KiotViet'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-400 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-list-ul"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">2. Video Playlist HDSD Bộ giải pháp KiotViet</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/xu-ly-tinh-huong" onclick="openModal(this.href, '3. Xử lý tình huống HĐĐT - Chữ ký số'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-400 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-circle-question"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">3. Xử lý tình huống Triển khai HĐĐT - Chữ ký số</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/tra-cuu-ma-loi-to-khai" onclick="openModal(this.href, '4. Tra cứu Mã lỗi Lập tờ khai'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-400 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-bug"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">4. Tra cứu Mã lỗi phổ biến khi Lập tờ khai</h3>
                        </a>
                        <a href="https://kiotvietlnd.github.io/elearning/thuehkd/tinh-thue-hkd" onclick="openModal(this.href, '5. Công cụ Tính thuế Hộ kinh doanh'); return false;" class="soft-card group p-5 flex flex-col items-start gap-3 hover:border-cyan-400 hover:bg-cyan-50/30 searchable-item cursor-pointer">
                            <div class="w-10 h-10 rounded-xl bg-cyan-50 text-cyan-600 flex items-center justify-center text-lg group-hover:scale-110 transition-transform">
                                <i class="fa-solid fa-calculator"></i>
                            </div>
                            <h3 class="font-bold text-slate-700 group-hover:text-cyan-600 text-sm leading-snug">5. Công cụ Tính thuế Hộ kinh doanh (Beta)</h3>
                        </a>
                    </div>
                </div>
            </section>

            <!-- SECTION 7: CHATBOT AI -->
            <section class="section-wrapper flex flex-col lg:flex-row gap-8 lg:gap-12" id="section-ai">
                <div class="lg:w-1/4 shrink-0">
                    <div class="flex flex-col items-center lg:items-start text-center lg:text-left gap-5">
                        <div class="w-16 h-16 rounded-2xl bg-slate-100 text-slate-700 flex items-center justify-center text-3xl shadow-sm border border-slate-200 shrink-0">
                            <i class="fa-solid fa-robot"></i>
                        </div>
                        <div>
                            <h2 class="text-2xl font-black text-slate-800 tracking-tight">Hỏi đáp AI</h2>
                            <p class="text-slate-500 mt-2 text-sm leading-relaxed">Giải đáp nhanh chóng mọi thắc mắc về nghiệp vụ Thuế với trợ lý ảo.</p>
                        </div>
                        <a href="https://notebooklm.google.com/notebook/17ae9fc0-6d1b-4ab5-ab0f-3f980651062e" target="_blank" class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-white border border-slate-200 text-slate-700 font-bold rounded-xl hover:bg-slate-50 hover:-translate-y-0.5 transition-all shadow-sm w-full sm:w-auto">
                            Mở Chatbot AI <i class="fa-solid fa-arrow-up-right-from-square text-sm"></i>
                        </a>
                    </div>
                </div>
                <div class="flex-1 min-w-0">
                    <div class="soft-card p-6 sm:p-8 bg-gradient-to-br from-white to-slate-50 border border-slate-200 searchable-item">
                        <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2">
                            <img src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg" class="w-6 h-6 animate-pulse" alt="AI">
                            Hỏi đáp thông minh với NotebookLM
                        </h3>
                        <p class="text-slate-600 text-sm mb-6 leading-relaxed">
                            Chatbot được xây dựng trên nền tảng AI NotebookLM của Google. <br>
                            Dữ liệu đầu vào được cập nhật liên tục từ các Thông tư, Nghị định và Tài liệu hướng dẫn chính thống. <br><br>
                            <span class="font-semibold text-slate-800">Hướng dẫn sử dụng:</span> Bạn chỉ cần đăng nhập bằng tài khoản Gmail bất kỳ để bắt đầu đặt câu hỏi về các vấn đề Thuế HKD.
                        </p>
                        <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 flex gap-3">
                            <i class="fa-solid fa-triangle-exclamation text-amber-600 mt-0.5 shrink-0 text-lg"></i>
                            <p class="text-xs sm:text-sm text-amber-800 font-medium">
                                Lưu ý: Thông tin do AI cung cấp chỉ mang tính chất tham khảo. Vui lòng đối chiếu với văn bản pháp luật gốc hoặc tham vấn chuyên gia thuế khi áp dụng vào thực tế.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-white/60 backdrop-blur-md border-t border-slate-200 py-8 relative z-10 mt-auto w-full flex-shrink-0">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="text-slate-500 text-xs font-medium">© 2026 KiotViet Learning & Development.</p>
        </div>
    </footer>

    <!-- MODAL POPUP -->
    <div id="learning-modal">
        <div class="modal-window">
            <div class="modal-header">
                <h3 id="modal-title" class="font-bold text-lg text-slate-800 truncate">Nội dung chi tiết</h3>
                <div class="flex items-center gap-3">
                    <a id="open-new-tab-btn" href="#" target="_blank" class="text-slate-500 hover:text-blue-600 transition-colors" title="Mở trong tab mới">
                        <i class="fa-solid fa-arrow-up-right-from-square"></i>
                    </a>
                    <button onclick="closeModal()" class="text-slate-500 hover:text-red-600 transition-colors p-2 rounded-full hover:bg-slate-100">
                        <i class="fa-solid fa-xmark text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <iframe id="course-iframe" class="w-full h-full border-none" src="" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // NAVBAR SCROLL
            const header = document.getElementById('main-header');
            if (header) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 20) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                });
            }

            // MOBILE MENU
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                    const icon = mobileMenuBtn.querySelector('i');
                    if (mobileMenu.classList.contains('hidden')) {
                        icon.classList.remove('fa-xmark'); icon.classList.add('fa-bars');
                    } else {
                        icon.classList.remove('fa-bars'); icon.classList.add('fa-xmark');
                    }
                });
            }
            
            // TÌM KIẾM (FILTER LOGIC - ẨN SECTION RỖNG)
            const searchInput = document.getElementById('searchInput');
            const searchBtn = document.getElementById('searchBtn');
            const sections = document.querySelectorAll('.section-wrapper'); 
            const noResultsMsg = document.getElementById('noResultsMsg');

            function performSearch() {
                const query = searchInput.value.toLowerCase().trim();
                let totalHasResult = false;

                sections.forEach(section => {
                    const itemsInSection = section.querySelectorAll('.searchable-item');
                    if (itemsInSection.length === 0) return; // Bỏ qua nếu section không có item nào

                    let sectionHasResult = false;
                    
                    itemsInSection.forEach(item => {
                        const text = item.innerText.toLowerCase();
                        if (text.includes(query)) {
                            item.style.display = ''; 
                            sectionHasResult = true;
                            totalHasResult = true;
                        } else {
                            item.style.display = 'none'; 
                        }
                    });

                    // Nếu có nhập từ khóa mà section không có item nào khớp -> ẩn cả section đó
                    if (query !== '' && !sectionHasResult) {
                        section.style.display = 'none';
                    } else {
                        section.style.display = ''; // Trả về display mặc định (flex)
                    }
                });

                // Xử lý thông báo "Không tìm thấy" tổng quát
                if (!totalHasResult && query !== '') {
                    noResultsMsg.classList.remove('hidden');
                } else {
                    noResultsMsg.classList.add('hidden');
                }
            }

            if (searchInput && searchBtn) {
                searchInput.addEventListener('input', performSearch);
                searchBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    performSearch();
                    document.getElementById('mainContentArea').scrollIntoView({ behavior: 'smooth' });
                });
            }

            // ĐÓNG MODAL KHI CLICK NGOÀI HOẶC ESC
            document.getElementById('learning-modal').addEventListener('click', (e) => { 
                if (e.target.id === 'learning-modal') closeModal(); 
            });
            document.addEventListener('keydown', (e) => { 
                if (e.key === "Escape") closeModal(); 
            });
        });

        // HÀM XỬ LÝ LINK YOUTUBE CHO MODAL
        function formatLink(url) {
            if (!url) return '';
            if (url.includes('youtube.com') || url.includes('youtu.be')) {
                if (url.includes('/embed/')) return url;
                let videoId = '';
                if (url.includes('v=')) { videoId = url.split('v=')[1].split('&')[0].split('?')[0]; } 
                else if (url.includes('youtu.be/')) { videoId = url.split('youtu.be/')[1].split('?')[0]; }
                if (url.includes('list=')) { const listId = url.split('list=')[1].split('&')[0]; return `https://www.youtube.com/embed/videoseries?list=${listId}`; }
                if (videoId) { return `https://www.youtube.com/embed/${videoId}?autoplay=1`; }
            }
            return url;
        }

        // MỞ MODAL
        function openModal(url, title) {
            if (!url) return;
            const modal = document.getElementById('learning-modal');
            const iframe = document.getElementById('course-iframe');
            const titleEl = document.getElementById('modal-title');
            const newTabBtn = document.getElementById('open-new-tab-btn');
            
            iframe.src = formatLink(url);
            if(title) titleEl.textContent = title;
            newTabBtn.href = url;
            
            modal.classList.add('open');
            document.body.style.overflow = 'hidden'; // Ngăn cuộn trang web bên dưới
        }

        // ĐÓNG MODAL
        function closeModal() {
            const modal = document.getElementById('learning-modal');
            const iframe = document.getElementById('course-iframe');
            modal.classList.remove('open');
            setTimeout(() => { iframe.src = ''; }, 300); // Đợi CSS transition xong mới xóa link
            document.body.style.overflow = '';
        }
    </script>
</body>
</html>
