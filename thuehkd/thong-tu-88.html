<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông tư 88/2021/TT-BTC: Cẩm nang Kế toán Hộ Kinh doanh - KiotViet</title>
    <meta name="description" content="Hướng dẫn chi tiết Thông tư 88/2021/TT-BTC dành cho hộ kinh doanh: Quy định về chứng từ, sổ sách kế toán, đối tượng áp dụng và cách tổ chức thực hiện hiệu quả.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        body { 
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff; /* Sky-50 */
        }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f0f9ff; }
        ::-webkit-scrollbar-thumb { background: #93c5fd; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3b82f6; }

        /* Animation */
        @keyframes moveInCircle { 0% { transform: rotate(0deg); } 50% { transform: rotate(180deg); } 100% { transform: rotate(360deg); } }
        @keyframes moveVertical { 0% { transform: translateY(-50%); } 50% { transform: translateY(50%); } 100% { transform: translateY(-50%); } }
        @keyframes moveHorizontal { 0% { transform: translateX(-50%); } 50% { transform: translateX(50%); } 100% { transform: translateX(-50%); } }
        
        .soft-glow-background { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -10; background: linear-gradient(135deg, #ffffff 0%, #e0f2fe 50%, #dcfce7 100%); }
        .soft-glow-background .shape { position: absolute; filter: blur(120px); opacity: 0.6; }
        .shape1 { height: 400px; width: 400px; background: #bae6fd; border-radius: 50%; top: -50px; left: -100px; animation: moveInCircle 25s ease-in-out infinite; }
        .shape2 { height: 450px; width: 450px; background: #bbf7d0; border-radius: 50%; bottom: -100px; right: -100px; animation: moveVertical 30s ease-in-out infinite; }
        .shape3 { height: 300px; width: 500px; background: #a5f3fc; border-radius: 50%; top: 50%; left: 50%; animation: moveHorizontal 40s ease-in-out infinite; }

        /* TOC Active State */
        .toc-link.active { color: #1e3a8a; border-left: 3px solid #2563eb; background: #eff6ff; font-weight: 600; }
        
        /* Table Style */
        .tax-table { width: 100%; border-collapse: separate; border-spacing: 0; border-radius: 8px; overflow: hidden; border: 1px solid #e2e8f0; font-size: 0.95rem; margin-bottom: 1.5rem; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
        .tax-table th { background-color: #eff6ff; color: #1e40af; padding: 12px 16px; text-align: left; font-weight: 700; border-bottom: 2px solid #bfdbfe; white-space: nowrap; }
        .tax-table td { padding: 12px 16px; border-bottom: 1px solid #f1f5f9; color: #334155; vertical-align: middle; }
        .tax-table tr:nth-child(even) { background-color: #f8fafc; }
        .tax-table tr:last-child td { border-bottom: none; }
        
        .float-btn { transition: transform 0.2s; }
        .float-btn:hover { transform: scale(1.1); }
    </style>
</head>
<body id="top" class="text-slate-700 antialiased selection:bg-blue-100 selection:text-blue-900">

    <div class="soft-glow-background"><div class="shape shape1"></div><div class="shape shape2"></div><div class="shape shape3"></div></div>

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-white/50 h-20 shadow-sm">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between">
            <a href="index.html" class="flex-shrink-0 flex items-center gap-3 select-none hover:opacity-80 transition-opacity">
                <img src="https://logo.kiotviet.vn/KiotViet-Logo-Horizontal.svg" alt="KiotViet Logo" class="h-8">
                <span class="text-slate-300 font-light text-2xl">|</span>
                <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-green-700 tracking-tight text-lg uppercase">E-Learning</span>
            </a>
            <a href="index.html" class="flex items-center gap-2 text-sm font-bold text-blue-600 hover:text-blue-800 transition-colors">
                <i class="fa-solid fa-arrow-left"></i> Quay lại Cẩm nang
            </a>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-[80vh]">
        <!-- Breadcrumb -->
        <nav class="flex mb-6 text-sm text-slate-500" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-3">
                <li class="inline-flex items-center"><a href="index.html" class="inline-flex items-center hover:text-blue-600"><i class="fa-solid fa-home mr-2"></i> Trang chủ</a></li>
                <li><div class="flex items-center"><i class="fa-solid fa-chevron-right text-slate-400 mx-2"></i><span class="text-slate-700 font-medium">Cẩm nang Thuế</span></div></li>
            </ol>
        </nav>

        <div class="flex flex-col lg:flex-row gap-10">
            <!-- Sidebar TOC -->
            <aside class="lg:w-1/4 hidden lg:block">
                <div class="sticky top-28 bg-white/80 backdrop-blur p-5 rounded-2xl shadow-md border border-white/60">
                    <h3 class="font-bold text-blue-900 mb-4 border-b border-slate-100 pb-2 uppercase text-xs tracking-wider">Mục lục bài viết</h3>
                    <nav class="space-y-1" id="toc">
                        <a href="#intro" class="toc-link block px-3 py-2 text-sm text-slate-600 hover:text-blue-600 rounded-r-lg transition-all border-l-2 border-transparent">Giới thiệu chung</a>
                        <a href="#section-1" class="toc-link block px-3 py-2 text-sm text-slate-600 hover:text-blue-600 rounded-r-lg transition-all border-l-2 border-transparent">1. Đối tượng áp dụng</a>
                        <a href="#section-2" class="toc-link block px-3 py-2 text-sm text-slate-600 hover:text-blue-600 rounded-r-lg transition-all border-l-2 border-transparent">2. Chứng từ & Sổ sách</a>
                        <a href="#section-3" class="toc-link block px-3 py-2 text-sm text-slate-600 hover:text-blue-600 rounded-r-lg transition-all border-l-2 border-transparent">3. Tổ chức kế toán</a>
                        <a href="#section-4" class="toc-link block px-3 py-2 text-sm text-slate-600 hover:text-blue-600 rounded-r-lg transition-all border-l-2 border-transparent">4. Hiệu lực thi hành</a>
                    </nav>
                </div>
            </aside>

            <!-- Main Content -->
            <article class="lg:w-3/4 w-full space-y-10 pb-10">
                <div class="text-center lg:text-left border-b border-slate-200 pb-6" id="intro">
                    <span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border border-blue-200">Pháp lý & Thuế</span>
                    <h1 class="text-3xl md:text-4xl font-black text-blue-900 mt-4 mb-4 leading-tight">Thông tư 88/2021/TT-BTC: Cẩm nang Kế toán Toàn diện dành cho Hộ Kinh doanh</h1>
                    <div class="flex items-center gap-4 text-sm text-slate-500 italic justify-center lg:justify-start">
                        <span><i class="fa-regular fa-clock mr-1"></i> Cập nhật lần cuối: 06/01/2026</span>
                        <span><i class="fa-solid fa-user-pen mr-1"></i> LND Department</span>
                    </div>
                </div>

                <!-- Introduction -->
                <div class="bg-white border border-blue-100 rounded-xl p-6 shadow-sm" data-aos="fade-up">
                    <p class="leading-relaxed text-slate-700 mb-4">
                        Trước khi Thông tư 88/2021/TT-BTC ra đời, nhiều hộ kinh doanh phải đối mặt với sự thiếu nhất quán trong quy định kế toán, dẫn đến không ít khó khăn và rủi ro trong việc giải trình thuế. Thấu hiểu những vướng mắc đó, ngày 11 tháng 10 năm 2021, Bộ Tài chính đã ban hành Thông tư 88/2021/TT-BTC, một văn bản pháp lý mang tính bước ngoặt.
                    </p>
                    <p class="leading-relaxed text-slate-700">
                        Bài viết này sẽ tổng hợp và phân tích những nội dung cốt lõi nhất, đóng vai trò như một cuốn cẩm nang thiết thực giúp bạn quản lý doanh thu - chi phí và theo dõi nghĩa vụ thuế hiệu quả.
                    </p>
                </div>

                <!-- Section 1 -->
                <section id="section-1" class="scroll-mt-28" data-aos="fade-up">
                    <h2 class="text-2xl font-bold text-blue-900 mb-6 flex items-center gap-3">
                        <span class="bg-white text-blue-600 w-10 h-10 flex items-center justify-center rounded-full text-lg font-black border border-blue-200 shadow-sm">1</span> 
                        Đối tượng nào cần áp dụng?
                    </h2>
                    <p class="leading-relaxed mb-4 text-slate-700">
                        Việc xác định chính xác liệu mình có thuộc phạm vi điều chỉnh của Thông tư hay không là bước đầu tiên để đảm bảo tuân thủ đúng quy định pháp luật. Điều 2 của Thông tư phân định rõ hai nhóm:
                    </p>
                    <ul class="list-none space-y-3 mb-6">
                        <li class="flex items-start gap-3">
                            <i class="fa-solid fa-check-circle text-green-600 mt-1"></i>
                            <div>
                                <strong class="text-blue-900">Đối tượng bắt buộc:</strong> Các hộ kinh doanh, cá nhân kinh doanh <span class="font-bold underline decoration-blue-300">nộp thuế theo phương pháp kê khai</span>.
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <i class="fa-regular fa-circle text-slate-400 mt-1"></i>
                            <div>
                                <strong class="text-blue-900">Đối tượng khuyến khích:</strong> Các hộ kinh doanh, cá nhân kinh doanh không thuộc diện phải thực hiện chế độ kế toán (ví dụ: nộp thuế khoán) nhưng có nhu cầu quản lý bài bản.
                            </div>
                        </li>
                    </ul>

                    <!-- Warning Box -->
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-5 rounded-r-lg text-yellow-900 shadow-sm">
                        <div class="flex items-center gap-2 font-bold mb-2 text-yellow-700">
                            <i class="fa-solid fa-triangle-exclamation"></i> Lời khuyên từ chuyên gia
                        </div>
                        <p class="text-sm">
                            Nếu bạn không chắc mình thuộc phương pháp kê khai hay khoán, hãy kiểm tra tờ khai thuế gần nhất hoặc liên hệ trực tiếp với cán bộ quản lý thuế. Việc xác định sai có thể dẫn đến rủi ro bị ấn định thuế sau này.
                        </p>
                    </div>
                </section>

                <!-- Section 2 -->
                <section id="section-2" class="scroll-mt-28" data-aos="fade-up">
                    <h2 class="text-2xl font-bold text-blue-900 mb-6 flex items-center gap-3">
                        <span class="bg-white text-blue-600 w-10 h-10 flex items-center justify-center rounded-full text-lg font-black border border-blue-200 shadow-sm">2</span> 
                        Quy định cốt lõi về Chứng từ và Sổ Kế toán
                    </h2>
                    <p class="leading-relaxed mb-6 text-slate-700">
                        Thông tư 88 đã xây dựng một hệ thống tinh gọn, phù hợp với đặc thù của hộ kinh doanh, bao gồm hệ thống chứng từ và sổ sách bắt buộc.
                    </p>

                    <h3 class="text-lg font-bold text-blue-800 mb-4 pl-4 border-l-4 border-blue-300">2.1. Hệ thống Chứng từ Kế toán (Điều 4)</h3>
                    <div class="overflow-x-auto rounded-lg border border-slate-200 shadow-sm mb-6">
                        <table class="tax-table mb-0">
                            <thead>
                                <tr>
                                    <th width="70%">Tên chứng từ</th>
                                    <th width="30%">Ký hiệu/Mẫu số</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Phiếu thu</td><td class="font-mono text-blue-600 bg-blue-50/50">01-TT</td></tr>
                                <tr><td>Phiếu chi</td><td class="font-mono text-blue-600 bg-blue-50/50">02-TT</td></tr>
                                <tr><td>Phiếu nhập kho</td><td class="font-mono text-blue-600 bg-blue-50/50">03-VT</td></tr>
                                <tr><td>Phiếu xuất kho</td><td class="font-mono text-blue-600 bg-blue-50/50">04-VT</td></tr>
                                <tr><td>Bảng thanh toán tiền lương & thu nhập NLĐ</td><td class="font-mono text-blue-600 bg-blue-50/50">05-LĐTL</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="text-sm text-slate-600 mb-6 bg-slate-50 p-4 rounded-lg border border-slate-200">
                        <strong class="text-slate-800">Ngoài ra:</strong> Bạn phải tuân thủ lưu trữ Hóa đơn (điện tử), Giấy nộp tiền NSNN, Giấy báo Nợ/Có, Ủy nhiệm chi... Việc thiếu chứng từ có thể khiến chi phí bị loại trừ khi tính thuế.
                    </p>

                    <h3 class="text-lg font-bold text-blue-800 mb-4 pl-4 border-l-4 border-blue-300">2.2. Hệ thống Sổ Kế toán (Điều 5)</h3>
                    <div class="overflow-x-auto rounded-lg border border-slate-200 shadow-sm mb-6">
                        <table class="tax-table mb-0">
                            <thead>
                                <tr>
                                    <th width="10%">STT</th>
                                    <th width="65%">Tên sổ kế toán</th>
                                    <th width="25%">Mẫu số</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td class="text-center font-bold">1</td><td>Sổ chi tiết doanh thu bán hàng hóa, dịch vụ</td><td class="font-mono text-blue-600">S1-HKD</td></tr>
                                <tr><td class="text-center font-bold">2</td><td>Sổ chi tiết vật liệu, dụng cụ, sản phẩm, hàng hóa</td><td class="font-mono text-blue-600">S2-HKD</td></tr>
                                <tr><td class="text-center font-bold">3</td><td>Sổ chi phí sản xuất, kinh doanh</td><td class="font-mono text-blue-600">S3-HKD</td></tr>
                                <tr><td class="text-center font-bold">4</td><td>Sổ theo dõi thực hiện nghĩa vụ thuế với NSNN</td><td class="font-mono text-blue-600">S4-HKD</td></tr>
                                <tr><td class="text-center font-bold">5</td><td>Sổ theo dõi thanh toán lương & các khoản nộp theo lương</td><td class="font-mono text-blue-600">S5-HKD</td></tr>
                                <tr><td class="text-center font-bold">6</td><td>Sổ quỹ tiền mặt</td><td class="font-mono text-blue-600">S6-HKD</td></tr>
                                <tr><td class="text-center font-bold">7</td><td>Sổ tiền gửi ngân hàng</td><td class="font-mono text-blue-600">S7-HKD</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Info Box -->
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-5 rounded-r-lg text-blue-900 shadow-sm">
                        <div class="flex items-center gap-2 font-bold mb-2 text-blue-700">
                            <i class="fa-solid fa-circle-info"></i> Lưu ý cho chuỗi cửa hàng
                        </div>
                        <p class="text-sm">
                            Trường hợp hộ kinh doanh có nhiều địa điểm kinh doanh khác nhau, Thông tư cho phép bạn mở sổ kế toán để theo dõi chi tiết cho <strong>từng địa điểm</strong>. Điều này giúp quản lý dòng tiền và hiệu quả kinh doanh tại mỗi nơi chính xác hơn.
                        </p>
                    </div>
                </section>

                <!-- Section 3 -->
                <section id="section-3" class="scroll-mt-28" data-aos="fade-up">
                    <h2 class="text-2xl font-bold text-blue-900 mb-6 flex items-center gap-3">
                        <span class="bg-white text-blue-600 w-10 h-10 flex items-center justify-center rounded-full text-lg font-black border border-blue-200 shadow-sm">3</span> 
                        Tổ chức công tác kế toán hiệu quả
                    </h2>
                    <p class="leading-relaxed mb-4 text-slate-700">Điều 3 của Thông tư mang đến sự linh hoạt, cho phép bạn lựa chọn 1 trong 3 mô hình:</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-3"><i class="fa-solid fa-user"></i></div>
                            <h4 class="font-bold text-blue-900 mb-2">Tự thực hiện</h4>
                            <p class="text-sm text-slate-600">Chủ hộ tự làm. Tiết kiệm nhất, phù hợp quy mô siêu nhỏ.</p>
                        </div>
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-3"><i class="fa-solid fa-users"></i></div>
                            <h4 class="font-bold text-blue-900 mb-2">Người thân</h4>
                            <p class="text-sm text-slate-600">Bố trí cha, mẹ, vợ, chồng, con, anh chị em ruột làm kế toán.</p>
                        </div>
                        <div class="bg-white p-5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
                            <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 mb-3"><i class="fa-solid fa-briefcase"></i></div>
                            <h4 class="font-bold text-blue-900 mb-2">Thuê dịch vụ</h4>
                            <p class="text-sm text-slate-600">Phù hợp nghiệp vụ phức tạp. Nên chọn đơn vị có chứng chỉ hành nghề.</p>
                        </div>
                    </div>
                </section>

                <!-- Section 4 -->
                <section id="section-4" class="scroll-mt-28" data-aos="fade-up">
                    <h2 class="text-2xl font-bold text-blue-900 mb-6 flex items-center gap-3">
                        <span class="bg-white text-blue-600 w-10 h-10 flex items-center justify-center rounded-full text-lg font-black border border-blue-200 shadow-sm">4</span> 
                        Hiệu lực và Hướng dẫn Thi hành
                    </h2>
                    <div class="space-y-4">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600 font-bold border border-blue-100">
                                <i class="fa-regular fa-calendar-check"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-800">Ngày hiệu lực</h4>
                                <p class="text-slate-600 text-sm mt-1">Thông tư có hiệu lực thi hành kể từ ngày <span class="font-bold text-blue-700">01/01/2022</span>.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-12 h-12 bg-red-50 rounded-lg flex items-center justify-center text-red-500 font-bold border border-red-100">
                                <i class="fa-solid fa-file-circle-xmark"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-800">Thay thế quy định cũ</h4>
                                <p class="text-slate-600 text-sm mt-1">Thay thế Quyết định 169/2000/QĐ-BTC và Quyết định 131/2002/QĐ-BTC.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Conclusion & Reference Link -->
                <section class="mt-10 border-t border-slate-200 pt-8" data-aos="fade-up">
                    <h3 class="text-xl font-bold text-blue-900 mb-3">Kết luận</h3>
                    <p class="leading-relaxed text-slate-700 mb-6">
                        Tuân thủ Thông tư 88 không chỉ là nghĩa vụ pháp lý mà còn là cơ hội để bạn xây dựng nền tảng tài chính vững chắc. Hãy bắt đầu rà soát hệ thống kế toán ngay hôm nay!
                    </p>
                    
                    <div class="flex justify-center">
                        <a href="https://chinhphu.vn/default.aspx?pageid=27160&docid=204329" target="_blank" class="inline-flex items-center gap-3 px-5 py-3 bg-slate-50 text-blue-700 font-semibold rounded-lg border border-slate-200 hover:bg-white hover:border-blue-300 hover:shadow-md transition-all group">
                            <span class="w-8 h-8 bg-white border border-slate-200 rounded-full flex items-center justify-center text-slate-600 group-hover:text-blue-600 group-hover:border-blue-200 transition-colors">
                                <i class="fa-solid fa-file-shield"></i>
                            </span>
                            Xem Văn bản gốc (Chinhphu.vn)
                            <i class="fa-solid fa-arrow-up-right-from-square text-xs ml-1 opacity-70"></i>
                        </a>
                    </div>
                </section>

            </article>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white/60 backdrop-blur-md border-t border-white/50 mt-10 py-8 relative z-10">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <div class="inline-block mb-4"><img src="https://logo.kiotviet.vn/KiotViet-Logo-Horizontal.svg" alt="KiotViet Logo" class="h-8 mx-auto"></div>
            <p class="text-slate-500 font-medium text-sm">Learning and Development Department</p>
            <p class="text-slate-400 text-xs mt-2">© 2026 KiotViet. All rights reserved.</p>
        </div>
    </footer>
    
    <!-- Floating Buttons -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-center space-y-3">
        <a href="https://notebooklm.google.com/notebook/17ae9fc0-6d1b-4ab5-ab0f-3f980651062e" target="_blank" class="float-btn w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center shadow-lg border-2 border-white hover:scale-110"><i class="fa-solid fa-robot"></i></a>
        <a id="scroll-to-top" href="#top" title="Lên đầu Trang" class="hidden w-12 h-12 bg-white text-slate-600 border border-slate-200 rounded-full items-center justify-center shadow-lg transition-all duration-300 hover:scale-110 hover:bg-slate-50"><i class="fas fa-arrow-up"></i></a>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            AOS.init({ once: true, duration: 800, easing: 'ease-out-cubic', offset: 50 });
            const scrollTopBtn = document.getElementById('scroll-to-top');
            window.onscroll = function() {
                if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) { scrollTopBtn.classList.remove('hidden'); scrollTopBtn.classList.add('flex'); } 
                else { scrollTopBtn.classList.add('hidden'); scrollTopBtn.classList.remove('flex'); }
            };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        document.querySelectorAll('.toc-link').forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === `#${id}`) link.classList.add('active');
                        });
                    }
                });
            }, { rootMargin: '-20% 0px -60% 0px' });
            document.querySelectorAll('section, #intro').forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>
